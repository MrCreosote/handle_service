Subject: shock install instructions


# 1. Set up your environment.
# GOROOT is the place where the go is installed.
# GOPATH is the place where third party tools
# such as shock are downloaded and installed.

GOROOT=$HOME/local/go; 
export GOROOT;
GOPATH=$HOME/local
export GOPATH;
PATH=$PATH:$GOROOT/bin:$GOPATH/bin;
export PATH;


# 2.  download go
cd $HOME/local
hg clone -u release https://code.google.com/p/go


# 3.  install go
cd go/src
./all.bash 
cd ../../


# 4.  install mongodb
# add the following to sources.list
# deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen

sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
sudo vi /etc/apt/sources.list
sudo apt-get update
sudo apt-get install mongodb-10gen


# 5.  Install bzr 
sudo apt-get install bzr


# 6.  Download shock
#     This will download shock to $GOPATH/src/github.com/MG-RAST,
#     build Shock, and install shock-server in $GOPATH/bin.
go get github.com/MG-RAST/Shock/...


# 7.  Configure system for shock
sudo mkdir /mnt/shock
sudo chmod a+rwx /mnt/shock
mkdir /mnt/shock/data
mkdir /mnt/shock/data/temp
mkdir /mnt/shock/log
sudo cp $GOPATH/src/github.com/MG-RAST/Shock/shock.cfg.template /etc/shock.cfg
sudo vi /etc/shock.cfg


# 8. create symlink for node.js
cd /mnt/shock/data
ln -s . raw

# 9.  start the shock server
shock-server -h
shock-server -conf="/etc/shock.cfg"

